import{H as v,q as x,y as s}from"./index-b0eYXTGv.js";const D=v("cart",()=>{const e=x({cartList:[],customerInfo:{name:"",phone:"",address:"",email:"",invoiceType:1,vehicle:""},selectedCartList:[],directPurchase:[]}),i=r=>{const t={...r},c=e.cartList.find(o=>o.id===t.id);c?c.qty+=t.qty:e.cartList.push(t)},n=r=>{const t={...r};e.directPurchase.push(t)},a=r=>{r.forEach(t=>{const c=e.cartList.findIndex(o=>o.id===t);e.cartList.splice(c,1)})},d=r=>{const t=e.cartList.find(c=>c.id===r);t.qty+=1},u=r=>{const t=e.cartList.find(c=>c.id===r);t.qty-=1,t.qty===0&&a([r])},l=r=>{Object.keys(r).forEach(t=>{e.customerInfo[t]=r[t]})},L=()=>{e.cartList=[]},f=()=>{e.selectedCartList.forEach(r=>{const t=e.cartList.findIndex(c=>c.id===r.id);e.cartList.splice(t,1)})},h=r=>e.selectedCartList=[...r],P=()=>{e.directPurchase=[]},m=s(()=>e.cartList),p=s(()=>e.cartList.length?e.cartList.reduce((r,t)=>r+t.price*t.qty,0):0),C=s(()=>e.customerInfo),y=s(()=>e.selectedCartList),g=s(()=>e.selectedCartList.length?e.selectedCartList.reduce((r,t)=>r+t.price*t.qty,0):0),q=s(()=>e.selectedCartList.reduce((r,t)=>r+t.qty,0)),S=s(()=>e.directPurchase.reduce((r,t)=>r+t.price*t.qty,0)),I=s(()=>e.directPurchase);return{cartState:e,addNewProduct:i,getCartList:m,getCartAmountTotal:p,removeProduct:a,addProductQty:d,reduceProductQty:u,removeCartList:L,updateCustomerInfo:l,getCustomerInfo:C,updateSelectedCartList:h,getSelectedCartList:y,getSelectedCartListAmountTotal:g,removeFinishedProducts:f,addDirectProduct:n,getDirectPurchase:I,getDirectPurchaseAmountTotal:S,cleanDirectPurchase:P,getSelectedProductAllQty:q}},{persist:[{paths:["cartState"],storage:localStorage}]});export{D as u};
