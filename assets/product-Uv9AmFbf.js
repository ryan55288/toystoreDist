import{u as w}from"./cart-jhRZaYKm.js";import{H as i,q as p,y as v,u as S,s as M,r as C}from"./index-b0eYXTGv.js";import{t as q,e as x}from"./sweetalert-8WZDP0Id.js";const E="data:image/svg+xml,%3csvg%20width='47'%20height='42'%20viewBox='0%200%2047%2042'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.5%2042C22.8309%2042%2022.1858%2041.7565%2021.6831%2041.3142C19.7844%2039.6467%2017.9538%2038.0796%2016.3388%2036.6972L16.3305%2036.69C11.5954%2032.6371%207.50655%2029.1369%204.66156%2025.689C1.4813%2021.8345%200%2018.1799%200%2014.1874C0%2010.3084%201.32424%206.72975%203.72853%204.11025C6.16151%201.45976%209.4999%200%2013.1298%200C15.8428%200%2018.3275%200.861524%2020.5145%202.56044C21.6182%203.418%2022.6186%204.46753%2023.5%205.69175C24.3818%204.46753%2025.3818%203.418%2026.4859%202.56044C28.6729%200.861524%2031.1575%200%2033.8705%200C37.5001%200%2040.8388%201.45976%2043.2718%204.11025C45.6761%206.72975%2047%2010.3084%2047%2014.1874C47%2018.1799%2045.5191%2021.8345%2042.3388%2025.6887C39.4938%2029.1369%2035.4053%2032.6367%2030.6709%2036.6893C29.053%2038.0738%2027.2196%2039.6434%2025.3166%2041.315C24.8142%2041.7565%2024.1688%2042%2023.5%2042ZM13.1298%202.76538C10.278%202.76538%207.65823%203.90855%205.75237%205.98456C3.81818%208.09191%202.75283%2011.005%202.75283%2014.1874C2.75283%2017.5453%203.99532%2020.5483%206.78114%2023.9246C9.47372%2027.1881%2013.4787%2030.6161%2018.1159%2034.5856L18.1245%2034.5928C19.7457%2035.9805%2021.5834%2037.5537%2023.4961%2039.2335C25.4202%2037.5505%2027.2608%2035.9747%2028.8852%2034.5848C33.522%2030.6154%2037.5266%2027.1881%2040.2192%2023.9246C43.0047%2020.5483%2044.2472%2017.5453%2044.2472%2014.1874C44.2472%2011.005%2043.1818%208.09191%2041.2476%205.98456C39.3421%203.90855%2036.722%202.76538%2033.8705%202.76538C31.7814%202.76538%2029.8634%203.43241%2028.1698%204.74774C26.6605%205.92045%2025.6092%207.40291%2024.9928%208.4402C24.6758%208.97361%2024.1178%209.29199%2023.5%209.29199C22.8822%209.29199%2022.3242%208.97361%2022.0072%208.4402C21.3912%207.40291%2020.3398%205.92045%2018.8302%204.74774C17.1366%203.43241%2015.2186%202.76538%2013.1298%202.76538Z'%20fill='%23E18213'/%3e%3c/svg%3e",Z="data:image/svg+xml,%3csvg%20width='72'%20height='66'%20viewBox='0%200%2072%2066'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M65.4664%207.19988C63.7639%205.26236%2061.7425%203.72538%2059.5176%202.67674C57.2927%201.62811%2054.908%201.08838%2052.4998%201.08838C50.0915%201.08838%2047.7068%201.62811%2045.4819%202.67674C43.257%203.72538%2040.7025%205.06249%2039%207.00001L35.9997%2011L33%207.19988C29.561%203.28805%2024.3632%201.09041%2019.4997%201.09041C14.6363%201.09041%209.97205%203.28805%206.53308%207.19988C3.09411%2011.1117%201.16211%2016.4173%201.16211%2021.9495C1.16211%2027.4816%203.09411%2032.7872%206.53308%2036.6991L10.0664%2040.7182L36%2064.5L61.9331%2040.7182L65.4664%2036.6991C67.1697%2034.7624%2068.5209%2032.4631%2069.4428%2029.9323C70.3647%2027.4015%2070.8392%2024.6889%2070.8392%2021.9495C70.8392%2019.21%2070.3647%2016.4974%2069.4428%2013.9667C68.5209%2011.4359%2067.1697%209.1365%2065.4664%207.19988Z'%20fill='%23E18213'%20stroke='%23E18213'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",P=i("myFavour",()=>{const t=p({myFavourList:[]}),o=s=>{const a={...s};t.myFavourList.push(a)},e=s=>{const a=t.myFavourList.findIndex(r=>r.id===s);t.myFavourList.splice(a,1)},u=v(()=>t.myFavourList);return{myFavourState:t,getMyFavourList:u,addMyFavourList:o,cancelMyFavour:e}},{persist:[{paths:["myFavourState"],storage:localStorage}]});function R(t){const o=S(),e=w(),{addNewProduct:u,cartState:s,addDirectProduct:a}=e,r=P(),{addMyFavourList:d,cancelMyFavour:l}=r,{getMyFavourList:m}=M(r),y=v(()=>m.value.map(L=>L.id).includes(t.value.id)),n=C(!1),g=()=>{n.value=!0,d(t.value),setTimeout(()=>{n.value=!1},1e3)},f=()=>{l(t.value.id)},h=()=>t.value.qty++,F=()=>{t.value.qty>0&&t.value.qty--},c=()=>t.value.qty?!0:(x("請輸入數量"),!1);return{increment:h,decrement:F,isFavour:y,addFavourHandle:g,cancelFavourHandle:f,messageShow:n,addToCart:()=>{c()&&(u(t.value),q(`${t.value.name}
數量${t.value.qty}
成功加入購物車!`),t.value.qty=0,console.log(s.cartList))},directBuy:()=>{c()&&(a(t.value),t.value.qty=0,o.push({path:"/CheckList1",query:{isDirect:"direct"}}))}}}const $=i("product",()=>{const t=C(null);return{productDetail:t,updateProductDetail:e=>{t.value={...e}}}},{persist:[{paths:["productDetail"],storage:localStorage}]});export{E as _,$ as a,R as b,Z as c,P as u};
